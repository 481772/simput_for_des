<!DOCTYPE html>
<html lang="en">
<head prefix="og: http://ogp.me/ns#">
  <meta charset="utf-8">
  <title>Conversion helper | SimPut</title>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Canonical links -->
  <link rel="canonical" href="https://kitware.github.io/simput/docs/convert.html">
  <!-- Alternative links -->
  
    
      <link rel="alternative" hreflang="en" href="https://kitware.github.io/simput/docs/convert.html">
    
  
  <!-- Icon -->
  <link rel="apple-touch-icon" sizes="57x57" href="/simput/icon/apple-touch-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/simput/icon/apple-touch-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/simput/icon/apple-touch-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/simput/icon/apple-touch-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/simput/icon/apple-touch-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/simput/icon/apple-touch-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/simput/icon/apple-touch-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/simput/icon/apple-touch-icon-152x152.png">
  <link rel="icon" type="image/png" href="/simput/icon/favicon-196x196.png" sizes="196x196">
  <link rel="icon" type="image/png" href="/simput/icon/favicon-160x160.png" sizes="160x160">
  <link rel="icon" type="image/png" href="/simput/icon/favicon-96x96.png" sizes="96x96">
  <link rel="icon" type="image/png" href="/simput/icon/favicon-16x16.png" sizes="16x16">
  <link rel="icon" type="image/png" href="/simput/icon/favicon-32x32.png" sizes="32x32">
  <meta name="msapplication-TileColor" content="#2f83cd">
  <meta name="msapplication-TileImage" content="/simput/icon/mstile-144x144.png">
  <!-- CSS -->
  <!-- build:css build/css/navy.css -->
  <link rel="stylesheet" href="/simput/css/navy.css">
  <!-- endbuild -->
  <link href="https://fonts.googleapis.com/css?family=Lato:300,400,700" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css">
  <!-- RSS -->
  <link rel="alternate" href="/simput/atom.xml" title="SimPut">
  <!-- Open Graph -->
  <meta name="description" content="Once the view model is filled up by the user, we rely on a function to validate and convert the data into a structure easy to handle within a template. On the other hand if the proper output annotatio">
<meta property="og:type" content="website">
<meta property="og:title" content="Conversion helper">
<meta property="og:url" content="https://kitware.github.io/simput/docs/convert.html">
<meta property="og:site_name" content="SimPut">
<meta property="og:description" content="Once the view model is filled up by the user, we rely on a function to validate and convert the data into a structure easy to handle within a template. On the other hand if the proper output annotatio">
<meta property="og:locale" content="en">
<meta property="og:updated_time" content="2018-09-07T17:33:55.065Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Conversion helper">
<meta name="twitter:description" content="Once the view model is filled up by the user, we rely on a function to validate and convert the data into a structure easy to handle within a template. On the other hand if the proper output annotatio">
  <!-- Google Analytics -->
  
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-90338862-11', 'auto');
  ga('send', 'pageview');
</script>

</head>

<body>
  <div id="container">
    <header id="header" class="wrapper">
  <div id="header-inner" class="inner">
    <h1 id="logo-wrap">
      <a href="/simput/" id="logo">SimPut</a>
    </h1>
    <nav id="main-nav">
      <a href="/simput/docs/" class="main-nav-link">Docs</a><a href="/simput/app/" class="main-nav-link">Application</a>
      <a href="https://github.com/kitware/simput" class="main-nav-link"><i class="fa fa-github-alt"></i></a>
      <div id="search-input-wrap">
        <div id="search-input-icon">
          <i class="fa fa-search"></i>
        </div>
        <input type="search" id="search-input" placeholder="Search...">
      </div>
    </nav>
    <a id="mobile-nav-toggle">
      <span class="mobile-nav-toggle-bar"></span>
      <span class="mobile-nav-toggle-bar"></span>
      <span class="mobile-nav-toggle-bar"></span>
    </a>
  </div>
</header>

    <div id="content-wrap">
  <div id="content" class="wrapper">
    <div id="content-inner">
      <article class="article-container" itemscope itemtype="http://schema.org/Article">
        <div class="article-inner">
          <div class="article">
            <div class="inner">
              <header class="article-header">
                <h1 class="article-title" itemprop="name">Conversion helper</h1>
              </header>
              <div class="article-content" itemprop="articleBody">
                <p>Once the view model is filled up by the user, we rely on a function to validate and convert the data into a structure easy to handle within a template.</p>
<p>On the other hand if the proper <strong>output</strong> annotations have been used in the model definition, such method can be automatically generated for you.</p>
<p>The function definition is as follow:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">module.exports = function (viewModel) &#123;</span><br><span class="line">  // Do your work</span><br><span class="line"></span><br><span class="line">  return &#123;</span><br><span class="line">    model: viewModel,</span><br><span class="line">    errors: [&apos;The password should match&apos;, &apos;The email address is not valid&apos;], // Or null/undefined if no error detected</span><br><span class="line">    results: &#123;</span><br><span class="line">      &apos;path/to/destination/file.txt&apos;: &apos;Content of the file\nto be written on disk.&apos;,</span><br><span class="line">      &apos;file.json&apos;: JSON.stringify(viewModel, null, 2),</span><br><span class="line">      &apos;file-min.json&apos;: JSON.stringify(viewModel),</span><br><span class="line">      &apos;run.sh&apos;: &apos;ls -al &gt;&gt; listing.txt&apos;,</span><br><span class="line">    &#125;,</span><br><span class="line">    copies: [</span><br><span class="line">      &#123; src: &apos;/path/to/a/file.binary&apos;, dst: &apos;./path/to/copy/that/file/to/file.binary&apos; &#125;,</span><br><span class="line">    ],</span><br><span class="line">    permissions: &#123;</span><br><span class="line">      &apos;run.sh&apos;: &apos;+x&apos;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>model</strong>: Pass the data model as you receive it.</li>
<li><strong>errors</strong>: Is an array of error message as strings. Should be null or undefined if no error.</li>
<li><strong>results</strong>: Is a map where the key is the file path that needs to be created and the value its content.</li>
<li><strong>copies</strong>: Is a list of files that needs to be copied over without modification. The source path need to be absolute while the destination one will be relative to the target directory of where the files will be created.</li>
<li><strong>permissions</strong>: Is a map for which default permission should be altered such as adding execution support for a shell script.</li>
</ul>
<h2 id="View-Model-structure" class="article-heading"><a href="#View-Model-structure" class="headerlink" title="View Model structure"></a>View Model structure<a class="article-anchor" href="#View-Model-structure" aria-hidden="true"></a></h2><p>The view model is what you get from the outside world that you need to convert into a set of files. That structure is related to the definition you wrote and what the user actually filled in.</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  views: &#123;</span><br><span class="line">    viewName1: &#123; attributes: [&apos;attributeNameA&apos;, &apos;attributeNameB&apos;, &apos;attributeNameC&apos;] &#125;,</span><br><span class="line">    viewName2: &#123; attributes: [&apos;attributeNameD&apos;, &apos;attributeNameE&apos;], size: -1 &#125;,</span><br><span class="line">    viewName3: &#123; children: [&apos;viewName3a&apos;, &apos;viewName3b&apos;, &apos;viewName3c&apos;] &#125;,</span><br><span class="line">    viewName3a: &#123; attributes: [&apos;attributeName3A&apos;] &#125;,</span><br><span class="line">    viewName3b: &#123; attributes: [&apos;attributeName3B&apos;] &#125;,</span><br><span class="line">    viewName3c: &#123; attributes: [&apos;attributeName3C&apos;] &#125;,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  type: &apos;your-simput-type-name&apos;,</span><br><span class="line">  data: &#123;</span><br><span class="line">    viewName1: [</span><br><span class="line">      &#123;</span><br><span class="line">        name: &quot;View 1 label&quot;,</span><br><span class="line">        attributeNameA: &#123;</span><br><span class="line">          paramId1: &#123;</span><br><span class="line">            id: &apos;attributeNameA.paramId1&apos;,</span><br><span class="line">            value: [&apos;user input&apos;],</span><br><span class="line">          &#125;,</span><br><span class="line">          paramId2: &#123;</span><br><span class="line">            id: &apos;attributeNameA.paramId2&apos;,</span><br><span class="line">            value: [&apos;other user input&apos;],</span><br><span class="line">          &#125;,</span><br><span class="line">        &#125;,</span><br><span class="line">        attributeNameB: &#123;...&#125;,</span><br><span class="line">        attributeNameC: &#123;...&#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">    viewName2: [</span><br><span class="line">      &#123;</span><br><span class="line">        name: &quot;View 2 - name given by user in menu&quot;,</span><br><span class="line">        attributeNameD: &#123;...&#125;,</span><br><span class="line">        attributeNameE: &#123;...&#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        name: &quot;View 2 - name given by user in menu&quot;,</span><br><span class="line">        attributeNameD: &#123;...&#125;,</span><br><span class="line">        attributeNameE: &#123;...&#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">      ...</span><br><span class="line">    ],</span><br><span class="line">    viewName3a: [</span><br><span class="line">      &#123;</span><br><span class="line">        name: &quot;Label for viewName3a&quot;,</span><br><span class="line">        attributeName3A: &#123;...&#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">    viewName3b: [</span><br><span class="line">      &#123;</span><br><span class="line">        name: &quot;Label for viewName3b&quot;,</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        attributeName3B: &#123;...&#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">    viewName3c: [</span><br><span class="line">      &#123;</span><br><span class="line">        name: &quot;Label for viewName3c&quot;,</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;&#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        attributeName3C: &#123;...&#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

              </div>
              <footer class="article-footer">
                <time class="article-footer-updated" datetime="2018-09-07T17:33:55.065Z" itemprop="dateModified">Last updated: 2018-09-07</time>
                <a href="model.html" class="article-footer-prev" title="DataModel definition"><i class="fa fa-chevron-left"></i><span>Prev</span></a><a href="develop_requirement.html" class="article-footer-next" title="Requirements"><span>Next</span><i class="fa fa-chevron-right"></i></a>
              </footer>
              
            </div>
          </div>
          <aside id="article-toc" role="navigation">
            <div id="article-toc-inner">
              <strong class="sidebar-title">Contents</strong>
              <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#View-Model-structure"><span class="toc-text">View Model structure</span></a></li></ol>
              <a href="#" id="article-toc-top">Back to Top</a>
            </div>
          </aside>
        </div>
      </article>
      <aside id="sidebar" role="navigation">
  <div class="inner"><strong class="sidebar-title">Getting Started</strong><a href="index.html" class="sidebar-link">Overview</a><a href="model.html" class="sidebar-link">DataModel definition</a><a href="convert.html" class="sidebar-link current">Convert function</a><a href="develop_requirement.html" class="sidebar-link">Requirements</a><a href="develop_build.html" class="sidebar-link">Building</a><strong class="sidebar-title">Example</strong><a href="vcard.html" class="sidebar-link">Address book</a><a href="oscillator.html" class="sidebar-link">Oscillator</a></div>
</aside>
    </div>
  </div>
</div>

    <footer id="footer" class="wrapper">
  <div class="inner">
    <div id="footer-copyright">
      &copy; 2018 <a href="https://www.kitware.com/" target="_blank">Kitware Inc.</a>
    </div>
    <div id="footer-links">
      <a href="https://github.com/kitware/simput" class="footer-link" target="_blank"><i class="fa fa-github-alt"></i></a>
    </div>
  </div>
</footer>

  </div>
  <div id="mobile-nav-dimmer"></div>
  <nav id="mobile-nav">
  <div id="mobile-nav-inner">
    <ul id="mobile-nav-list">
      <a href="/simput/docs/" class="mobile-nav-link">Docs</a><a href="/simput/app/" class="mobile-nav-link">Application</a>
      <li class="mobile-nav-item">
        <a href="https://github.com/kitware/simput" class="mobile-nav-link" rel="external" target="_blank">GitHub</a>
      </li>
    </ul>
    
      <strong class="mobile-nav-title">Getting Started</strong><a href="index.html" class="mobile-nav-link">Overview</a><a href="model.html" class="mobile-nav-link">DataModel definition</a><a href="convert.html" class="mobile-nav-link current">Convert function</a><a href="develop_requirement.html" class="mobile-nav-link">Requirements</a><a href="develop_build.html" class="mobile-nav-link">Building</a><strong class="mobile-nav-title">Example</strong><a href="vcard.html" class="mobile-nav-link">Address book</a><a href="oscillator.html" class="mobile-nav-link">Oscillator</a>
    
  </div>
  <div id="mobile-lang-select-wrap">
    <span id="mobile-lang-select-label"><i class="fa fa-globe"></i><span>English</span></span>
    <select id="mobile-lang-select" data-canonical="docs/convert.html">
      
        <option value="en" selected>English</option>
      
    </select>
  </div>
</nav>
  <!-- Scripts -->
<!-- build:js build/js/main.js -->
<script src="/simput/js/lang_select.js"></script>
<script src="/simput/js/toc.js"></script>
<script src="/simput/js/mobile_nav.js"></script>
<!-- endbuild -->
<script src="https://cdn.jsdelivr.net/retinajs/1.3.0/retina.min.js" async></script>



</body>
</html>